<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>My Princess Titli üíñ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Quicksand:wght@500&display=swap" rel="stylesheet">
  <style>
    :root {
      --main-bg: linear-gradient(130deg, #ffe6f7 0%, #e6eaff 100%);
      --card-bg: rgba(255, 255, 255, 0.97);
      --accent: #ff4ba8;
      --accent-dark: #e33d95;
      --btn-bg: #ffaad1;
      --btn-hover: #ff69b4;
      --btn-no: #c9e2ff;
      --btn-no-hover: #a1cfff;
      --shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.06);
      --border-radius: 32px;
      --mobile-width: 98vw;
    }
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
    }
    body {
      min-height: 100vh;
      background: var(--main-bg);
      font-family: 'Quicksand', Arial, sans-serif;
      overflow-x: hidden;
      position: relative;
    }
    .flowers-canvas {
      pointer-events: none;
      position: fixed;
      top: 0; left: 0; width: 100vw; height: 100vh;
      z-index: 1;
    }
    .container {
      position: relative;
      z-index: 2;
      max-width: 500px;
      margin: 48px auto 0;
      background: var(--card-bg);
      box-shadow: var(--shadow);
      border-radius: var(--border-radius);
      padding: 36px 22px 28px 22px;
      text-align: center;
      animation: fadeIn 1.2s;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px);}
      to { opacity: 1; transform: translateY(0);}
    }
    h1 {
      font-family: 'Dancing Script', cursive;
      color: var(--accent);
      font-size: 2.2em;
      margin: 0 0 10px 0;
      letter-spacing: 1.5px;
      text-shadow: 0 2px 10px #ffbae557;
      animation: popIn 1.1s;
    }
    @keyframes popIn {
      0% { opacity: 0; transform: scale(0.85);}
      80% { opacity: 1; transform: scale(1.06);}
      100% { opacity: 1; transform: scale(1);}
    }
    .subtitle {
      font-size: 1.12em;
      color: #ed4b82;
      margin-bottom: 25px;
      letter-spacing: 0.5px;
      opacity: 0.93;
    }
    .question-card {
      margin: 32px 0 18px;
      padding: 30px 16px 26px 16px;
      background: linear-gradient(125deg, #fff6fa 60%, #eaf3ff 100%);
      border-radius: 28px;
      box-shadow: 0 8px 24px #ffbae537;
      min-height: 100px;
      position: relative;
      transition: box-shadow 0.2s;
      animation: fadeInUpCard 0.7s;
    }
    @keyframes fadeInUpCard {
      from { opacity: 0; transform: translateY(40px);}
      to { opacity: 1; transform: translateY(0);}
    }
    .question {
      font-size: 1.28em;
      font-family: 'Dancing Script', cursive;
      color: #ee4f91;
      margin-bottom: 17px;
      letter-spacing: 1px;
      text-shadow: 0 1px 7px #fff8;
      animation: fadeInQ 0.4s;
    }
    @keyframes fadeInQ {
      from { opacity: 0; transform: translateY(10px);}
      to { opacity: 1; transform: translateY(0);}
    }
    .options {
      display: flex;
      gap: 22px;
      justify-content: center;
      align-items: center;
      margin-top: 15px;
      min-height: 54px;
      position: relative;
    }
    .btn {
      border: none;
      outline: none;
      font-family: 'Quicksand', sans-serif;
      font-size: 1.08em;
      padding: 13px 38px;
      border-radius: 26px;
      cursor: pointer;
      font-weight: 700;
      letter-spacing: 1.3px;
      box-shadow: 0 3px 18px #ffbae547;
      transition: background 0.19s, color 0.12s, box-shadow 0.13s, transform 0.18s;
      position: relative;
      z-index: 2;
      margin-bottom: 0;
      margin-top: 0;
      user-select: none;
    }
    .btn.yes {
      background: var(--btn-bg);
      color: #fff;
      border: 2px solid var(--accent);
      animation: btnPulse 1.5s infinite alternate;
    }
    @keyframes btnPulse {
      0% { box-shadow: 0 0 0px #ffbae547;}
      100% { box-shadow: 0 0 12px #ffbae547;}
    }
    .btn.yes:hover, .btn.yes:focus { background: var(--btn-hover); color: #fff; transform: scale(1.08);}
    .btn.no {
      background: var(--btn-no);
      color: #3274a9;
      border: 2px solid #99bfff;
      transition: transform 0.23s cubic-bezier(.6,-0.28,.74,.05), background 0.14s;
    }
    .btn.no:hover, .btn.no:focus { background: var(--btn-no-hover); color: #175a96; }
    .btn.moving {
      position: absolute !important;
      left: 0; top: 0;
      will-change: transform, left, top;
      transition: transform 0.22s cubic-bezier(.6,-0.28,.74,.05), opacity 0.3s;
      z-index: 3;
    }
    .message {
      color: #d02465;
      font-size: 1.13em;
      margin-top: 18px;
      font-weight: 600;
      min-height: 28px;
      animation: fadeIn 0.5s;
      letter-spacing: 0.5px;
      text-shadow: 0 1px 2px #fff8;
    }
    .final-section {
      margin-top: 36px;
      padding-top: 16px;
      padding-bottom: 16px;
      border-top: 2.5px dotted #b7e2ff;
      text-align: center;
      animation: fadeIn 1.2s;
    }
    .final-quote {
      font-family: 'Dancing Script', cursive;
      font-size: 1.6em;
      color: var(--accent-dark);
      margin: 26px 0 14px;
      letter-spacing: 1.1px;
      text-shadow: 0 1px 2px #fff8;
    }
    .from-ranit {
      color: #ed4b82;
      font-size: 1.12em;
      margin-bottom: 0;
      letter-spacing: 0.4px;
      opacity: 0.93;
    }
    .final-pics {
      display: flex;
      justify-content: center;
      gap: 32px;
      margin-bottom: 22px;
      align-items: flex-end;
      margin-top: 30px;
    }
    .princess-photo-final {
      width: 126px;
      height: 126px;
      object-fit: cover;
      border-radius: 50%;
      border: 4px solid #ff69b4;
      box-shadow: 0 4px 25px #ffadd6c0;
      background: #fff;
    }
    .together-photo-final {
      width: 96px;
      height: 96px;
      object-fit: cover;
      border-radius: 20px;
      border: 3px solid #b7e2ff;
      background: #fff;
      box-shadow: 0 2px 10px #b7e2ff66;
    }
    .note-english {
      margin: 30px 0 0 0;
      padding: 20px 15px 10px 15px;
      background: #f9f7ff;
      border-radius: 15px;
      font-size: 1.09em;
      color: #5a2564;
      letter-spacing: 0.1px;
      line-height: 1.8;
      box-shadow: 0 4px 12px #eae3ff51;
      text-align: left;
      font-family: 'Quicksand', Arial, sans-serif;
    }
    /* Sparkle animation */
    .sparkle {
      position: absolute;
      pointer-events: none;
      font-size: 2em;
      opacity: 0.85;
      animation: sparkleFade 1s linear forwards;
    }
    @keyframes sparkleFade {
      0% { opacity: 0; transform: scale(0.4);}
      25% { opacity: 1; transform: scale(1.1);}
      80% { opacity: 1;}
      100% { opacity: 0; transform: scale(1.5);}
    }
    /* Pop-up for game redirect */
    #gamePopup {
      display:none; position:fixed; top:0; left:0; width:100vw; height:100vh;
      background:rgba(255,192,203,0.39); z-index:30;
      align-items:center; justify-content:center; animation: popupFadeIn .8s;
    }
    .popup-content {
      position: relative;
      background: #fff0fa;
      border: 2px solid #f06292;
      border-radius: 28px;
      box-shadow: 0 4px 24px #fa88b622;
      padding: 42px 30px 28px 30px;
      text-align: center;
      min-width: 290px;
      max-width: 90vw;
      animation: popScale 0.7s cubic-bezier(.5,1.77,.4,.93);
    }
    .popup-content h3 {
      color: #d81b60;
      font-family: 'Dancing Script', cursive;
      font-size: 2em;
      margin-bottom: 14px;
      animation: winGlow 1.5s infinite alternate;
    }
    .popup-content .popup-heart {
      font-size: 2.3em;
      margin-bottom: 10px;
      display: inline-block;
      animation: winHeartBounce 0.8s infinite alternate;
    }
    .popup-content .desc {
      font-size:1.18em;
      color:#ae1964;
      margin-bottom:18px;
    }
    .popup-btn {
      margin: 12px 10px 0 10px;
      background: linear-gradient(90deg,#f06292,#ffb3ce);
      color: #fff;
      border: none;
      border-radius: 13px;
      padding: 12px 32px;
      font-size: 1.16em;
      cursor: pointer;
      font-family: inherit;
      font-weight:bold;
      box-shadow: 0 2px 12px #f0629266;
      transition: background 0.2s, transform 0.13s;
    }
    .popup-btn:hover {
      background: #d81b60;
      transform: scale(1.06);
    }
    @media (max-width: 520px) {
      .container {padding:12px;}
      .question {font-size:1.11em;}
      .btn {padding:10px 16px;}
    }
    @media (max-width: 555px) {
      .container { padding: 18px 2vw; }
      .final-pics { flex-direction: column; gap: 16px; }
    }
  </style>
</head>
<body>
  <!-- Falling Flowers Canvas -->
  <canvas class="flowers-canvas"></canvas>
  <div class="container" id="main-container">
    <h1>My Princess Titli üíñ</h1>
    <div class="subtitle">Made with love just for you</div>
    <div id="question-section"></div>
    <div class="final-section" id="final-section" style="display:none;">
      <div class="final-pics">
        <img src="https://i.ibb.co/sJXCbdHb/Picsart-25-03-06-00-04-04-761.jpg" alt="Titli" class="princess-photo-final">
        <img src="https://i.ibb.co/KxNjKLzn/Picsart-25-02-21-08-52-29-804-2.jpg" alt="Ranit & Titli" class="together-photo-final">
      </div>
      <div class="final-quote">
        "You are the greatest love of my life,<br>
        the color of my world.<br>
        <span style="color:#ff69b4;">Be my princess forever.</span>"
      </div>
      <div class="note-english">
        Dear Titli,<br><br>
        You are the reason for every smile in my life. Your cute expressions, your little pouts, the scent of your hair, the sparkle in your eyes, your soft hands in mine‚Äîeverything makes me love you more.<br>
        Every day with you feels like a dream. When you smile, the world becomes more beautiful. I always want to be beside you, to be the reason for your happiness, to hold you tight when you are sad.<br>
        Chocolate, momo, coffee‚Äîeverything is sweeter just because you are with me. You are my best friend, my love, my life.<br>
        In every life, in every world, I want only you. My heart, my love, my everything is for you.<br>
        <br>
        I love you endlessly, infinitely, forever...<br>
        <br>
        <b>Yours, Ranit ‚ù§Ô∏è</b>
      </div>
      <div class="from-ranit">‚Äì Forever yours</div>
    </div>
  </div>
  <!-- Game Redirect Popup -->
  <div id="gamePopup">
    <div class="popup-content">
      <span class="popup-heart">üíñ</span>
      <h3>Let's Play a Game!</h3>
      <div class="desc">Your answers made my day!<br>Ready to play a fun game together?</div>
      <button class="popup-btn" onclick="goToGame()">Yay! Let's go</button>
    </div>
  </div>
  <script>
    // FLOWERS ANIMATION
    const flowerImages = [
      'data:image/svg+xml;utf8,<svg width="28" height="28" xmlns="http://www.w3.org/2000/svg"><g><ellipse cx="14" cy="8" rx="7" ry="8" fill="%23ffb3d1"/><ellipse cx="8" cy="14" rx="7" ry="8" fill="%23ffb3d1"/><ellipse cx="14" cy="20" rx="7" ry="8" fill="%23ffb3d1"/><ellipse cx="20" cy="14" rx="7" ry="8" fill="%23ffb3d1"/><circle cx="14" cy="14" r="6" fill="%23ff69b4"/></g></svg>',
      'data:image/svg+xml;utf8,<svg width="28" height="28" xmlns="http://www.w3.org/2000/svg"><g><ellipse cx="9" cy="9" rx="5" ry="6" fill="%23ea8ee7"/><ellipse cx="19" cy="9" rx="5" ry="6" fill="%23ea8ee7"/><ellipse cx="14" cy="19" rx="5" ry="6" fill="%23ea8ee7"/><circle cx="14" cy="13" r="4" fill="%23ff69b4"/></g></svg>',
      'data:image/svg+xml;utf8,<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><g><ellipse cx="9" cy="4" rx="4" ry="4" fill="%23ffe7fb"/><ellipse cx="4" cy="9" rx="4" ry="4" fill="%23ffe7fb"/><ellipse cx="9" cy="14" rx="4" ry="4" fill="%23ffe7fb"/><ellipse cx="14" cy="9" rx="4" ry="4" fill="%23ffe7fb"/><circle cx="9" cy="9" r="3" fill="%23ffb3d1"/></g></svg>',
    ];
    const canvas = document.querySelector('.flowers-canvas');
    const ctx = canvas.getContext('2d');
    let flowers = [];
    function resizeCanvas() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }
    resizeCanvas();
    window.addEventListener('resize', resizeCanvas);
    function randomFlower() {
      const img = new window.Image();
      img.src = flowerImages[Math.floor(Math.random() * flowerImages.length)];
      return {
        x: Math.random() * canvas.width,
        y: -30,
        speed: 1.5 + Math.random() * 1.7,
        drift: (Math.random() - 0.5) * 0.8,
        size: 18 + Math.random() * 14,
        rot: Math.random() * Math.PI,
        rotSpeed: (Math.random() - 0.5) * 0.01,
        img: img
      };
    }
    function animateFlowers() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      flowers.forEach(flower => {
        flower.x += flower.drift;
        flower.y += flower.speed;
        flower.rot += flower.rotSpeed;
        ctx.save();
        ctx.translate(flower.x, flower.y);
        ctx.rotate(flower.rot);
        ctx.drawImage(flower.img, -flower.size/2, -flower.size/2, flower.size, flower.size);
        ctx.restore();
      });
      flowers = flowers.filter(flower => flower.y < canvas.height + 30);
      while (flowers.length < 28) flowers.push(randomFlower());
      requestAnimationFrame(animateFlowers);
    }
    animateFlowers();

    // QUESTIONS
    const questions = [
      {question: "Will you marry me?", image: "üíç", sweetMessage: "No is not an option, princess! üíç", yesResponse: "You are my world! üíñ"},
      {question: "Will you be my princess forever?", image: "üë∏", sweetMessage: "You can't say no to this! üë∏", yesResponse: "Forever my princess! üëë"},
      {question: "Will you cuddle with me?", image: "ü§ó", sweetMessage: "No cuddle? That's not possible! ü§ó", yesResponse: "Cuddle incoming! ü§óüíï"},
      {question: "Will you romance with me?", image: "ü•∞", sweetMessage: "Romance is a must! ü•∞", yesResponse: "Yay! Romance time! ü•∞"},
      {question: "Will you eat momo with me?", image: "ü•ü", sweetMessage: "No momo? That's a crime! ü•ü", yesResponse: "Momo party! üòãü•ü"},
      {question: "Will you watch a movie with me?", image: "üé¨", sweetMessage: "No movie night? Not allowed! üé¨", yesResponse: "Movie night with you! üåô"},
      {question: "Will you have coffee with me?", image: "‚òï", sweetMessage: "No coffee? Can't happen! ‚òï", yesResponse: "Coffee with you is the best! ‚òï"},
      {question: "Will you let me play with your hair?", image: "üëê", sweetMessage: "Let me touch your hair, please! üëê", yesResponse: "Let me play more with your hair! ü•∞"},
      {question: "Will you pamper me a little?", image: "üíè", sweetMessage: "No pampering? That's not fair! üíè", yesResponse: "Lots of pamper! üòò"},
      {question: "Can you play a cute game with me?", image: "üé≤", sweetMessage: "Not playing? That's impossible! üòä", yesResponse: "Yay! Let's play a game! üéÆ"},
    ];

    let currentQuestion = 0;
    const qSection = document.getElementById('question-section');
    const finalSection = document.getElementById('final-section');
    const gamePopup = document.getElementById('gamePopup');

    function showQuestion(idx) {
      qSection.innerHTML = '';
      finalSection.style.display = 'none';
      if (idx >= questions.length) {
        showFinalSection();
        return;
      }
      const q = questions[idx];
      const card = document.createElement('div');
      card.className = 'question-card';
      const qText = document.createElement('div');
      qText.className = 'question';
      qText.innerHTML = (q.image ? `<span>${q.image}</span> ` : '') + q.question;
      card.appendChild(qText);

      const options = document.createElement('div');
      options.className = 'options';
      // Yes button
      const yesBtn = document.createElement('button');
      yesBtn.className = 'btn yes';
      yesBtn.textContent = 'Yes';
      yesBtn.onclick = () => {
        showMessage(q.yesResponse || "I love you!");
        sparkle(yesBtn);
        if(idx === questions.length-1) {
          setTimeout(() => showGamePopup(), 1050);
        } else {
          setTimeout(() => showQuestion(idx + 1), 1040);
        }
      };
      // No button
      const noBtn = document.createElement('button');
      noBtn.className = 'btn no';
      noBtn.textContent = 'No';
      noBtn.tabIndex = 0;
      let moveCount = 0;
      function moveNoBtn() {
        moveCount++;
        noBtn.classList.add('moving');
        const bounds = options.getBoundingClientRect();
        let x = Math.random() * (bounds.width - noBtn.offsetWidth - 10);
        let y = Math.random() * (38 - 0) - 8;
        if (moveCount > 3) {
          x = Math.random() * (bounds.width - noBtn.offsetWidth - 10);
          y = Math.random() * (60) - 24;
        }
        if (moveCount > 6) {
          x = Math.random() * (bounds.width - noBtn.offsetWidth - 10);
          y = Math.random() * (80) - 40;
        }
        noBtn.style.transform = `translate(${x}px, ${y}px) rotate(${(Math.random()-0.5)*50}deg)`;
        setTimeout(() => {
          if (moveCount > 10) {
            noBtn.style.opacity = '0.6';
          }
        }, 300);
        sparkle(noBtn);
      }
      noBtn.addEventListener('mouseenter', moveNoBtn);
      noBtn.addEventListener('touchstart', moveNoBtn);
      noBtn.addEventListener('click', function() {
        showMessage(q.sweetMessage || "No is not an option! üíï");
        if (moveCount > 10) {
          noBtn.style.opacity = '0.6';
        }
        sparkle(noBtn);
        if(idx === questions.length-1) {
          setTimeout(() => showGamePopup(), 1050);
        }
      });

      options.appendChild(yesBtn);
      options.appendChild(noBtn);
      card.appendChild(options);
      const msg = document.createElement('div');
      msg.className = 'message';
      msg.id = 'message-area';
      card.appendChild(msg);
      qSection.appendChild(card);
    }
    function showMessage(txt) {
      const msg = document.getElementById('message-area');
      if (msg) {
        msg.textContent = txt;
        msg.style.animation = 'none';
        void msg.offsetWidth;
        msg.style.animation = '';
      }
    }
    function sparkle(btn) {
      let sparkleEmojis = ["‚ú®", "üíñ", "üí´", "üå∏"];
      let rect = btn.getBoundingClientRect();
      let containerRect = document.querySelector('.container').getBoundingClientRect();
      let x = rect.left - containerRect.left + rect.width/2;
      let y = rect.top - containerRect.top + rect.height/2;
      let span = document.createElement('span');
      span.className = 'sparkle';
      span.style.left = (x-14) + "px";
      span.style.top = (y-15) + "px";
      span.innerText = sparkleEmojis[Math.floor(Math.random()*sparkleEmojis.length)];
      document.querySelector('.container').appendChild(span);
      setTimeout(()=>{ if(span.parentNode) span.parentNode.removeChild(span); }, 1000);
    }
    function showFinalSection() {
      qSection.innerHTML = '';
      finalSection.style.display = '';
      setTimeout(() => {
        window.scrollTo({top:document.body.scrollHeight,behavior:'smooth'});
      }, 300);
    }
    function showGamePopup() {
      gamePopup.style.display = "flex";
    }
    function goToGame() {
      window.location.href = "game.html";
    }
    // Start
    showQuestion(0);
  </script>
</body>
</html>
